<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../jquery-1.9.1.min.js"></script><script src="../../bootstrap/js/bootstrap.min.js"></script><script src="../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../styles.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../../",platforms: ["types"]};</script><script type="text/javascript" src="../..//nav.js"></script><script type="text/javascript" src="../..//index.js"></script><link rel="icon" href="../..//favicon.ico" type="image/x-icon"></link><title>nape.phys.Compound - HaxeFlixel API</title></head><body><nav><div class="navbar navbar-inverse navbar-fixed-top"><div class="container"><div class="navbar-header"><button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="http://www.haxeflixel.com/" class="navbar-brand"><img src="http://www.haxeflixel.com/images/haxeflixel-header.png" alt="HaxeFlixel"/></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="http://www.haxeflixel.com/demos">Demos</a></li><li><a href="http://www.haxeflixel.com/showcase">Showcase</a></li><li><a href="http://www.haxeflixel.com/blog">Blog</a></li><li><a href="http://www.haxeflixel.com/documentation">Docs</a></li><li class="active"><a href=".">API</a></li><li><a href="http://www.haxeflixel.com/forum">Forum</a></li></ul></div></div></div></nav><div class="container navbar-offset">        <div class="row-fluid container-main">            <div class="span3">              <div class="well sidebar-nav">                <form class="form-search" id="searchForm">                  <div class="input-prepend input-block-level">                    <span class="add-on"><i class="icon-search"></i></span>                    <input id="search" type="text" placeholder="Search" autocomplete="off"/>                  </div>                </form></div>              <div class="well sidebar-nav">                <div id="nav"></div>              </div>            </div>            <div class="span9"><div class="page-header"><span class="viewsource"><a href="https://github.com/deltaluca/nape/tree/master/cx-src/nape/phys/Compound.cx">View source</a></span><h4><small>package nape.phys</small></h4><h1><small>class </small>Compound</h1><h4><small>extends</small> <a class="type" title="" href="../../nape/phys/Interactor.html">Interactor</a></h4></div><div class="body"><div class="doc doc-main"><div class="indent"><p>Compound represents a grouping of physics objects into a single object.
<br/><br/>
This compound owns its constituents and works in the callback system and with
respect to adding/removing from a Space as a single object.
<pre></p>
<pre><code>  ____Cmp1_____
 /    /    &amp;#92;   &amp;#92;
</code></pre>
<p>Body1 Body2--Joint Cmp2
|     |        &#92;  |
Shp1  Shp2        Body3</p>
<pre><code>                |
               Shp3
</code></pre>
<p></pre>
For example if you have a complex car built with several bodies and
constraints you might store this in a Compound providing an easy way
of removing/adding/copying the Car as well as being able to get a single
callback for when the car collides with something.
<br/><br/>
When you add a compound to a Space, all of it's constituents get added
and furthermore, those constituents cannot be added seperately.</p></div></div><h3 class="section">Constructor</h3><div class="fields"><div class="field "><a name="new"></a><h3><p><code><a href="#new"><span class="identifier">new</span></a>()</code></p></h3><div class="doc"><p>Construct a new Compound.</p>
<p>@result The constructed Compound.</p></div></div></div><h3 class="section">Variables</h3><div class="fields"><div class="field "><a name="bodies"></a><h3><p><code><span class="label">read only</span><a href="#bodies"><span class="identifier">bodies</span></a>:<a class="type" title="Nape list of Body type objects  Internally this list is at present implemented as a linked list with object pooled nodes and iterators with various fast paths made for standard access patterns (For instance accessing successive elements runs in constant time when using random access functions)  Iteration of this list can be done in various ways, but the preferred way on all targets, is through use of the foreach function:  list." href="../../nape/phys/BodyList.html">BodyList</a></code></p></h3><div class="doc"><p>List of bodies directly owned by this Compound.
<br/><br/>
This list does not include those bodies belonging to sub-compounds.</p></div></div><div class="field "><a name="compound"></a><h3><p><code><a href="#compound"><span class="identifier">compound</span></a>:<a class="type" title="Null can be useful in two cases." href="../../Null.html">Null</a>&lt;<a class="type" title="Compound represents a grouping of physics objects into a single object." href="../../nape/phys/Compound.html">Compound</a>&gt;</code></p></h3><div class="doc"><p>Compound that this compound belongs to.</p></div></div><div class="field "><a name="compounds"></a><h3><p><code><span class="label">read only</span><a href="#compounds"><span class="identifier">compounds</span></a>:<a class="type" title="Nape list of Compound type objects  Internally this list is at present implemented as a linked list with object pooled nodes and iterators with various fast paths made for standard access patterns (For instance accessing successive elements runs in constant time when using random access functions)  Iteration of this list can be done in various ways, but the preferred way on all targets, is through use of the foreach function:  list." href="../../nape/phys/CompoundList.html">CompoundList</a></code></p></h3><div class="doc"><p>List of compounds directly owned by this Compound.
<br/><br/>
This list does not include those compounds belonging to sub-compounds.</p></div></div><div class="field "><a name="constraints"></a><h3><p><code><span class="label">read only</span><a href="#constraints"><span class="identifier">constraints</span></a>:<a class="type" title="Nape list of Constraint type objects  Internally this list is at present implemented as a linked list with object pooled nodes and iterators with various fast paths made for standard access patterns (For instance accessing successive elements runs in constant time when using random access functions)  Iteration of this list can be done in various ways, but the preferred way on all targets, is through use of the foreach function:  list." href="../../nape/constraint/ConstraintList.html">ConstraintList</a></code></p></h3><div class="doc"><p>List of constraints directly owned by this Compound.
<br/><br/>
This list does not include those constraints belonging to sub-compounds.</p></div></div><div class="field "><a name="space"></a><h3><p><code><a href="#space"><span class="identifier">space</span></a>:<a class="type" title="Null can be useful in two cases." href="../../Null.html">Null</a>&lt;<a class="type" title="The heart of all Nape simulations." href="../../nape/space/Space.html">Space</a>&gt;</code></p></h3><div class="doc"><p>Space this compound belongs to.
<br/><br/>
This value is immutable when this compound belongs to another parent Compound.</p></div></div><div class="field "><a name="zpp_inner"></a><h3><p><code><a href="#zpp_inner"><span class="identifier">zpp_inner</span></a>:<span class="type">ZPP_Compound</span><span> = null</span></code></p></h3><div class="doc"><p>@private</p></div></div></div><h3 class="section">Methods</h3><div class="fields"><div class="field "><a name="COM"></a><h3><p><code><a href="#COM"><span class="identifier">COM</span></a>(<span style="white-space:nowrap">weak:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../Bool.html">Bool</a> = false</span>):<a class="type" title="2 Dimensional vector." href="../../nape/geom/Vec2.html">Vec2</a></code></p></h3><div class="doc"><p>Compute centre of mass of Compound.</p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>weak</code> <p>If true, the returned Vec2 will be automatically released
to the object pool when passed as an argument to a Nape
function. (default false)</p></div><p class="javadoc">Returns:</p><div class="indent inline-content"><p>The centre of mass of compound.</p></div><p class="javadoc">Throws:</p><div class="indent inline-content"><code>#</code> <p>If Compound has no Bodies contained directly or indirectly
that contain at least one Shape.</p></div></div></div><div class="field "><a name="breakApart"></a><h3><p><code><a href="#breakApart"><span class="identifier">breakApart</span></a>():<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Breaking compound apart in-place.
<br/><br/>
This method will destroy the compound, moving all of it's components
to the assigned Space if this is the root compound, otherwise to the
parent compound.
<br/><br/>
Apart from being easier than doing this manually it also means that we
do not have to temporarigly remove objects from the space meaning that
things like PreListener ignored interactions will be unaffected.</p></div></div><div class="field "><a name="copy"></a><h3><p><code><a href="#copy"><span class="identifier">copy</span></a>():<a class="type" title="Compound represents a grouping of physics objects into a single object." href="../../nape/phys/Compound.html">Compound</a></code></p></h3><div class="doc"><p>Produce an exact copy of this Compound.
<br/><br/>
This copy will remap owned constraints so that their body properties
refer to the newly copied bodies also owned by this compound.
<br/><br/>
If this compound tree contains any constraints that make references
to outside of this compound; then these properties will be made null.
<pre></p>
<pre><code>  ____Cmp1____               [Cmp2.copy()]
 /    /        &amp;#92;
</code></pre>
<p>Body1 Body2___     Cmp2        null    Cmp2'
|     |     &#92;     /  &#92;         &#92;    /    &#92;
Shp1  Shp2     Joint--Body3       Joint'--Body3'</p>
<pre><code>                    |                   |
                   Shp3               Shp3'
</code></pre>
<p></pre>
For instance if copying Cmp1 then all is well, but if we copy Cmp2 the
copied Joint will have one of it's body references null as that body is
not owned directly, or indirectly by the compound.</p></div></div><div class="field "><a name="rotate"></a><h3><p><code><a href="#rotate"><span class="identifier">rotate</span></a>(<span style="white-space:nowrap">centre:<a class="type" title="2 Dimensional vector." href="../../nape/geom/Vec2.html">Vec2</a></span>, <span style="white-space:nowrap">angle:<a class="type" title="The standard Float type, this is a double-precision IEEE 64bit float." href="../../Float.html">Float</a></span>):<a class="type" title="Compound represents a grouping of physics objects into a single object." href="../../nape/phys/Compound.html">Compound</a></code></p></h3><div class="doc"><p>Rotate entire compound about a point.
<br/><br/>
This is equivalent to: <code>compound.visitBodies(function (b) b.rotate(centre, angle))</code></p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>centre</code> <p>The centre of rotation in world coordinates.</p></div><div class="indent inline-content"><code>angle</code> <p>The clockwise angle of rotation in radians.</p></div><p class="javadoc">Returns:</p><div class="indent inline-content"><p>A reference to this Compound.</p></div><p class="javadoc">Throws:</p><div class="indent inline-content"><code>#</code> <p>If centre is null or disposed of.</p></div><div class="indent inline-content"><code>#</code> <p>If any Body in the compound is static, and this compound is in a Space.</p></div></div></div><div class="field "><a name="toString"></a><h3><p><code><a href="#toString"><span class="identifier">toString</span></a>():<a class="type" title="The basic String class." href="../../String.html">String</a></code></p></h3><div class="doc"><p>@private</p></div></div><div class="field "><a name="translate"></a><h3><p><code><a href="#translate"><span class="identifier">translate</span></a>(<span style="white-space:nowrap">translation:<a class="type" title="2 Dimensional vector." href="../../nape/geom/Vec2.html">Vec2</a></span>):<a class="type" title="Compound represents a grouping of physics objects into a single object." href="../../nape/phys/Compound.html">Compound</a></code></p></h3><div class="doc"><p>Translate entire compound.
<br/><br/>
This is equivalent to: <code>compound.visitBodies(function (b) b.translate(translation))</code></p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>translation</code> <p>The translation to apply to the Compound.</p></div><p class="javadoc">Returns:</p><div class="indent inline-content"><p>A reference to this Compound.</p></div><p class="javadoc">Throws:</p><div class="indent inline-content"><code>#</code> <p>If translation is null or disposed of.</p></div><div class="indent inline-content"><code>#</code> <p>If any Body in the compound is static, and this compound is in a Space.</p></div></div></div><div class="field "><a name="visitBodies"></a><h3><p><code><a href="#visitBodies"><span class="identifier">visitBodies</span></a>(<span style="white-space:nowrap">lambda:<a class="type" title="Class representing a physics Rigid Body." href="../../nape/phys/Body.html">Body</a>&#8209;&gt<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Method to iterate over all bodies contained directly or indirectly by
this Compound.</p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>lambda</code> <p>The method to apply to each Body.</p></div><p class="javadoc">Throws:</p><div class="indent inline-content"><code>#</code> <p>If lambda is null.</p></div></div></div><div class="field "><a name="visitCompounds"></a><h3><p><code><a href="#visitCompounds"><span class="identifier">visitCompounds</span></a>(<span style="white-space:nowrap">lambda:<a class="type" title="Compound represents a grouping of physics objects into a single object." href="../../nape/phys/Compound.html">Compound</a>&#8209;&gt<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Method to iterate over all compounds contained directly or indirectly by
this Compound.</p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>lambda</code> <p>The method to apply to each Compound.</p></div><p class="javadoc">Throws:</p><div class="indent inline-content"><code>#</code> <p>If lambda is null.</p></div></div></div><div class="field "><a name="visitConstraints"></a><h3><p><code><a href="#visitConstraints"><span class="identifier">visitConstraints</span></a>(<span style="white-space:nowrap">lambda:<a class="type" title="" href="../../nape/constraint/Constraint.html">Constraint</a>&#8209;&gt<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Method to iterate over all constraints contained directly or indirectly by
this Compound.</p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>lambda</code> <p>The method to apply to each Constraint.</p></div><p class="javadoc">Throws:</p><div class="indent inline-content"><code>#</code> <p>If lambda is null.</p></div></div></div></div></div></div>        </div></div><footer><div class="footer-main"><div class=" container"><div class="footer-social"><iframe width="120px" scrolling="0" height="20px" frameborder="0" allowtransparency="true" src="http://ghbtns.com/github-btn.html?user=HaxeFlixel&amp;repo=flixel&amp;type=watch&amp;count=true&amp;size=small"></iframe><a href="https://twitter.com/haxeflixel" class="twitter-follow-button" data-show-count="true" data-lang="en" data-size="small">Follow @haxeflixel</a><script>!function (d, s, id){var js, fjs = d.getElementsByTagName (s)[0];if (!d.getElementById (id)){js = d.createElement (s);js.id = id;js.src = "//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore (js, fjs);}} (document, "script", "twitter-wjs");</script></div><div class="footer-powered-by"><p>HaxeFlixel is powered by</p><a href="http://haxe.org"><img src="http://www.haxeflixel.com/images/haxe.svg" alt="Haxe" title="Haxe"/></a>+<a href="http://openfl.org"><img class="openfl-footer-logo" src="http://www.haxeflixel.com//images/openfl.svg" alt="OpenFL" title="OpenFL"/></a>+<a href="http://flixel.org"><img class="flixel-footer-logo" src="http://www.haxeflixel.com//images/flixel.svg" alt="Flixel" title="Flixel"/></a></div></div></div></footer>    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script></body></html>