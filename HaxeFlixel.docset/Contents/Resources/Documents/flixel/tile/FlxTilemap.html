<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../jquery-1.9.1.min.js"></script><script src="../../bootstrap/js/bootstrap.min.js"></script><script src="../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../styles.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../../",platforms: ["types"]};</script><script type="text/javascript" src="../..//nav.js"></script><script type="text/javascript" src="../..//index.js"></script><link rel="icon" href="../..//favicon.ico" type="image/x-icon"></link><title>flixel.tile.FlxTilemap - HaxeFlixel API</title></head><body><nav><div class="navbar navbar-inverse navbar-fixed-top"><div class="container"><div class="navbar-header"><button data-target=".navbar-collapse" data-toggle="collapse" class="navbar-toggle" type="button"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="http://www.haxeflixel.com/" class="navbar-brand"><img src="http://www.haxeflixel.com/images/haxeflixel-header.png" alt="HaxeFlixel"/></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="http://www.haxeflixel.com/demos">Demos</a></li><li><a href="http://www.haxeflixel.com/showcase">Showcase</a></li><li><a href="http://www.haxeflixel.com/blog">Blog</a></li><li><a href="http://www.haxeflixel.com/documentation">Docs</a></li><li class="active"><a href=".">API</a></li><li><a href="http://www.haxeflixel.com/forum">Forum</a></li></ul></div></div></div></nav><div class="container navbar-offset">        <div class="row-fluid container-main">            <div class="span3">              <div class="well sidebar-nav">                <form class="form-search" id="searchForm">                  <div class="input-prepend input-block-level">                    <span class="add-on"><i class="icon-search"></i></span>                    <input id="search" type="text" placeholder="Search" autocomplete="off"/>                  </div>                </form></div>              <div class="well sidebar-nav">                <div id="nav"></div>              </div>            </div>            <div class="span9"><div class="page-header"><span class="viewsource"><a href="https://github.com/HaxeFlixel/flixel/tree/master/flixel/tile/FlxTilemap.hx">View source</a></span><h4><small>package flixel.tile</small></h4><h1><small>class </small>FlxTilemap</h1><h4><small>extends</small> <a class="type" title="" href="../../flixel/tile/FlxBaseTilemap.html">FlxBaseTilemap</a>&lt;<a class="type" title="A simple helper object for FlxTilemap that helps expand collision opportunities and control." href="../../flixel/tile/FlxTile.html">FlxTile</a>&gt;</h4><div><span class="muted">extended by </span><a class="type" title="" href="../../flixel/addons/nape/FlxNapeTilemap.html">FlxNapeTilemap</a>, <a class="type" title="" href="../../flixel/addons/tile/FlxRayCastTilemap.html">FlxRayCastTilemap</a>, <a class="type" title="Extended FlxTilemap class that provides collision detection against slopes Based on the original by Dirk Bunk." href="../../flixel/addons/tile/FlxTilemapExt.html">FlxTilemapExt</a></div></div><div class="body"><div class="doc doc-main"><div class="indent"><p>This is a traditional tilemap display and collision class. It takes a string of comma-separated numbers and then associates
those values with tiles from the sheet you pass in. It also includes some handy static parsers that can convert
arrays or images into strings that can be loaded.</p></div></div><h3 class="section">Constructor</h3><div class="fields"><div class="field "><a name="new"></a><h3><p><code><a href="#new"><span class="identifier">new</span></a>()</code></p></h3><div class="doc"><p>The tilemap constructor just initializes some basic variables.</p></div></div></div><h3 class="section">Variables</h3><div class="fields"><div class="field "><a name="alpha"></a><h3><p><code><a href="#alpha"><span class="identifier">alpha</span></a>:<a class="type" title="The standard Float type, this is a double-precision IEEE 64bit float." href="../../Float.html">Float</a><span> = 1.0</span></code></p></h3><div class="doc"><p>Set alpha to a number between 0 and 1 to change the opacity of the sprite.</p></div></div><div class="field "><a name="blend"></a><h3><p><code><a href="#blend"><span class="identifier">blend</span></a>:<a class="type" title="A class that provides constant values for visual blend mode effects." href="../../openfl/display/BlendMode.html">BlendMode</a><span> = null</span></code></p></h3><div class="doc"><p>Blending modes, just like Photoshop or whatever, e.g. "multiply", "screen", etc.</p></div></div><div class="field "><a name="color"></a><h3><p><code><a href="#color"><span class="identifier">color</span></a>:<a class="type" title="Class representing a color, based on Int." href="../../flixel/util/FlxColor.html">FlxColor</a><span> = 0xffffff</span></code></p></h3><div class="doc"><p>Tints the whole sprite to a color (0xRRGGBB format) - similar to OpenGL vertex colors. You can use
0xAARRGGBB colors, but the alpha value will simply be ignored. To change the opacity use alpha.</p></div></div><div class="field "><a name="colorTransform"></a><h3><p><code><span class="label">read only</span><a href="#colorTransform"><span class="identifier">colorTransform</span></a>:<a class="type" title="" href="../../openfl/geom/ColorTransform.html">ColorTransform</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="frames"></a><h3><p><code><a href="#frames"><span class="identifier">frames</span></a>:<a class="type" title="" href="../../flixel/graphics/frames/FlxFramesCollection.html">FlxFramesCollection</a></code></p></h3><div class="doc"><p>Rendering variables.</p></div></div><div class="field "><a name="graphic"></a><h3><p><code><a href="#graphic"><span class="identifier">graphic</span></a>:<a class="type" title="BitmapData wrapper which is used for rendering." href="../../flixel/graphics/FlxGraphic.html">FlxGraphic</a></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="offset"></a><h3><p><code><span class="label">read only</span><a href="#offset"><span class="identifier">offset</span></a>:<a class="type" title="Stores a 2D floating point coordinate." href="../../flixel/math/FlxPoint.html">FlxPoint</a></code></p></h3><div class="doc"><p>Use to offset the drawing position of the tilemap,
just like FlxSprite.</p></div></div><div class="field "><a name="scale"></a><h3><p><code><span class="label">read only</span><a href="#scale"><span class="identifier">scale</span></a>:<a class="type" title="Stores a 2D floating point coordinate." href="../../flixel/math/FlxPoint.html">FlxPoint</a></code></p></h3><div class="doc"><p>Changes the size of this tilemap. Default is (1, 1). 
Anything other than the default is very slow with blitting!</p></div></div><div class="field "><a name="useScaleHack"></a><h3><p><code><a href="#useScaleHack"><span class="identifier">useScaleHack</span></a>:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../Bool.html">Bool</a><span> = true</span></code></p></h3><div class="doc"><p>Try to eliminate 1 px gap between tiles in tile render mode by increasing tile scale, 
so the tile will look one pixel wider than it is.</p></div></div></div><h3 class="section">Methods</h3><div class="fields"><div class="field "><a name="destroy"></a><h3><p><code><a href="#destroy"><span class="identifier">destroy</span></a>():<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Clean up memory.</p></div></div><div class="field "><a name="draw"></a><h3><p><code><a href="#draw"><span class="identifier">draw</span></a>():<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Draws the tilemap buffers to the cameras.</p></div></div><div class="field "><a name="follow"></a><h3><p><code><a href="#follow"><span class="identifier">follow</span></a>(<span style="white-space:nowrap">?Camera:<a class="type" title="The camera class is used to display the game's visuals." href="../../flixel/FlxCamera.html">FlxCamera</a></span>, <span style="white-space:nowrap">Border:<a class="type" title="The standard Int type." href="../../Int.html">Int</a> = 0</span>, <span style="white-space:nowrap">UpdateWorld:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../Bool.html">Bool</a> = true</span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Call this function to lock the automatic camera to the map's edges.</p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>Camera</code> <p>Specify which game camera you want.  If null getScreenPosition() will just grab the first global camera.</p></div><div class="indent inline-content"><code>Border</code> <p>Adjusts the camera follow boundary by whatever number of tiles you specify here.  Handy for blocking off deadends that are offscreen, etc.  Use a negative number to add padding instead of hiding the edges.</p></div><div class="indent inline-content"><code>UpdateWorld</code> <p>Whether to update the collision system's world size, default value is true.</p></div></div></div><div class="field "><a name="getTileCoords"></a><h3><p><code><a href="#getTileCoords"><span class="identifier">getTileCoords</span></a>(<span style="white-space:nowrap">Index:<a class="type" title="The standard Int type." href="../../Int.html">Int</a></span>, <span style="white-space:nowrap">Midpoint:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../Bool.html">Bool</a> = true</span>):<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="Stores a 2D floating point coordinate." href="../../flixel/math/FlxPoint.html">FlxPoint</a>&gt;</code></p></h3><div class="doc"><p>Returns a new array full of every coordinate of the requested tile type.</p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>Index</code> <p>The requested tile type.</p></div><div class="indent inline-content"><code>Midpoint</code> <p>Whether to return the coordinates of the tile midpoint, or upper left corner. Default is true, return midpoint.</p></div><p class="javadoc">Returns:</p><div class="indent inline-content"><p>An Array with a list of all the coordinates of that tile type.</p></div></div></div><div class="field "><a name="overlapsWithCallback"></a><h3><p><code><a href="#overlapsWithCallback"><span class="identifier">overlapsWithCallback</span></a>(<span style="white-space:nowrap">Object:<a class="type" title="This is the base class for most of the display objects (FlxSprite, FlxText, etc)." href="../../flixel/FlxObject.html">FlxObject</a></span>, <span style="white-space:nowrap">?Callback:<a class="type" title="This is the base class for most of the display objects (FlxSprite, FlxText, etc)." href="../../flixel/FlxObject.html">FlxObject</a>&#8209;&gt<a class="type" title="This is the base class for most of the display objects (FlxSprite, FlxText, etc)." href="../../flixel/FlxObject.html">FlxObject</a>&#8209;&gt<a class="type" title="The standard Boolean type, which can either be true or false." href="../../Bool.html">Bool</a></span>, <span style="white-space:nowrap">FlipCallbackParams:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../Bool.html">Bool</a> = false</span>, <span style="white-space:nowrap">?Position:<a class="type" title="Stores a 2D floating point coordinate." href="../../flixel/math/FlxPoint.html">FlxPoint</a></span>):<a class="type" title="The standard Boolean type, which can either be true or false." href="../../Bool.html">Bool</a></code></p></h3><div class="doc"><p>Checks if the Object overlaps any tiles with any collision flags set,
and calls the specified callback function (if there is one).
Also calls the tile's registered callback if the filter matches.</p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>Object</code> <p>The FlxObject you are checking for overlaps against.</p></div><div class="indent inline-content"><code>Callback</code> <p>An optional function that takes the form "myCallback(Object1:FlxObject,Object2:FlxObject)", where Object1 is a FlxTile object, and Object2 is the object passed in in the first parameter of this method.</p></div><div class="indent inline-content"><code>FlipCallbackParams</code> <p>Used to preserve A-B list ordering from FlxObject.separate() - returns the FlxTile object as the second parameter instead.</p></div><div class="indent inline-content"><code>Position</code> <p>Optional, specify a custom position for the tilemap (useful for overlapsAt()-type funcitonality).</p></div><p class="javadoc">Returns:</p><div class="indent inline-content"><p>Whether there were overlaps, or if a callback was specified, whatever the return value of the callback was.</p></div></div></div><div class="field "><a name="ray"></a><h3><p><code><a href="#ray"><span class="identifier">ray</span></a>(<span style="white-space:nowrap">Start:<a class="type" title="Stores a 2D floating point coordinate." href="../../flixel/math/FlxPoint.html">FlxPoint</a></span>, <span style="white-space:nowrap">End:<a class="type" title="Stores a 2D floating point coordinate." href="../../flixel/math/FlxPoint.html">FlxPoint</a></span>, <span style="white-space:nowrap">?Result:<a class="type" title="Stores a 2D floating point coordinate." href="../../flixel/math/FlxPoint.html">FlxPoint</a></span>, <span style="white-space:nowrap">Resolution:<a class="type" title="The standard Float type, this is a double-precision IEEE 64bit float." href="../../Float.html">Float</a> = 1</span>):<a class="type" title="The standard Boolean type, which can either be true or false." href="../../Bool.html">Bool</a></code></p></h3><div class="doc"><p>Shoots a ray from the start point to the end point.
If/when it passes through a tile, it stores that point and returns false.</p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>Start</code> <p>The world coordinates of the start of the ray.</p></div><div class="indent inline-content"><code>End</code> <p>The world coordinates of the end of the ray.</p></div><div class="indent inline-content"><code>Result</code> <p>An optional point containing the first wall impact if there was one. Null otherwise.</p></div><div class="indent inline-content"><code>Resolution</code> <p>Defaults to 1, meaning check every tile or so.  Higher means more checks!</p></div><p class="javadoc">Returns:</p><div class="indent inline-content"><p>Returns true if the ray made it from Start to End without hitting anything. Returns false and fills Result if a tile was hit.</p></div></div></div><div class="field "><a name="setDirty"></a><h3><p><code><a href="#setDirty"><span class="identifier">setDirty</span></a>(<span style="white-space:nowrap">Dirty:<a class="type" title="The standard Boolean type, which can either be true or false." href="../../Bool.html">Bool</a> = true</span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Set the dirty flag on all the tilemap buffers.
Basically forces a reset of the drawn tilemaps, even if it wasn'tile necessary.</p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>Dirty</code> <p>Whether to flag the tilemap buffers as dirty or not.</p></div></div></div><div class="field "><a name="tileToSprite"></a><h3><p><code><a href="#tileToSprite"><span class="identifier">tileToSprite</span></a>(<span style="white-space:nowrap">X:<a class="type" title="The standard Int type." href="../../Int.html">Int</a></span>, <span style="white-space:nowrap">Y:<a class="type" title="The standard Int type." href="../../Int.html">Int</a></span>, <span style="white-space:nowrap">NewTile:<a class="type" title="The standard Int type." href="../../Int.html">Int</a> = 0</span>, <span style="white-space:nowrap">?SpriteFactory:<a class="type" title="" href="../../flixel/tile/FlxTileProperties.html">FlxTileProperties</a>&#8209;&gt<a class="type" title="The main "game object" class, the sprite is a FlxObject with a bunch of graphics options and abilities, like animation and stamping." href="../../flixel/FlxSprite.html">FlxSprite</a></span>):<a class="type" title="The main "game object" class, the sprite is a FlxObject with a bunch of graphics options and abilities, like animation and stamping." href="../../flixel/FlxSprite.html">FlxSprite</a></code></p></h3><div class="doc"><p>Change a particular tile to FlxSprite. Or just copy the graphic if you dont want any changes to mapdata itself.</p>
<p>@link http://forums.flixel.org/index.php/topic,5398.0.html</p><p class="javadoc">Parameters:</p><div class="indent inline-content"><code>X</code> <p>The X coordinate of the tile (in tiles, not pixels).</p></div><div class="indent inline-content"><code>Y</code> <p>The Y coordinate of the tile (in tiles, not pixels).</p></div><div class="indent inline-content"><code>NewTile</code> <p>New tile to the mapdata. Use -1 if you dont want any changes. Default = 0 (empty)</p></div><div class="indent inline-content"><code>SpriteFactory</code> <p>Method for converting FlxTile to FlxSprite. If null then will be used defaultTileToSprite() method.</p></div><p class="javadoc">Returns:</p><div class="indent inline-content"><p>FlxSprite.</p></div></div></div><div class="field "><a name="updateBuffers"></a><h3><p><code><a href="#updateBuffers"><span class="identifier">updateBuffers</span></a>():<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Use this method so the tilemap buffers are updated, eg when resizing your game</p></div></div></div></div></div>        </div></div><footer><div class="footer-main"><div class=" container"><div class="footer-social"><iframe width="120px" scrolling="0" height="20px" frameborder="0" allowtransparency="true" src="http://ghbtns.com/github-btn.html?user=HaxeFlixel&amp;repo=flixel&amp;type=watch&amp;count=true&amp;size=small"></iframe><a href="https://twitter.com/haxeflixel" class="twitter-follow-button" data-show-count="true" data-lang="en" data-size="small">Follow @haxeflixel</a><script>!function (d, s, id){var js, fjs = d.getElementsByTagName (s)[0];if (!d.getElementById (id)){js = d.createElement (s);js.id = id;js.src = "//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore (js, fjs);}} (document, "script", "twitter-wjs");</script></div><div class="footer-powered-by"><p>HaxeFlixel is powered by</p><a href="http://haxe.org"><img src="http://www.haxeflixel.com/images/haxe.svg" alt="Haxe" title="Haxe"/></a>+<a href="http://openfl.org"><img class="openfl-footer-logo" src="http://www.haxeflixel.com//images/openfl.svg" alt="OpenFL" title="OpenFL"/></a>+<a href="http://flixel.org"><img class="flixel-footer-logo" src="http://www.haxeflixel.com//images/flixel.svg" alt="Flixel" title="Flixel"/></a></div></div></div></footer>    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script></body></html>